{"ast":null,"code":"import _slicedToArray from\"/Users/mustapha/Desktop/Develop/mustaphachqoubi-website/frontend/node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState,useEffect}from\"react\";import{storyIntroLines}from\"../assets/storyIntroLines\";import{YearWindowrovider}from'./YearWindowProvider.jsx';import{Window}from\"./Window\";import{Arrow}from'../assets/Arrow.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AboutMe=function AboutMe(){var _useState=useState(\"sticky top\"),_useState2=_slicedToArray(_useState,2),stickyPosition=_useState2[0],setStickyPosition=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),progress=_useState4[0],setProgress=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),maxProgress=_useState6[0],setMaxProgress=_useState6[1];var LinesRef=useRef(storyIntroLines.map(function(){return/*#__PURE__*/React.createRef();}));useEffect(function(){var handleScroll=function handleScroll(){var windowHeight=window.innerHeight;var currentPosition=window.pageYOffset;var maxProgress=windowHeight*storyIntroLines.length;setProgress(Math.min(currentPosition,maxProgress));setMaxProgress(maxProgress);};window.addEventListener(\"scroll\",handleScroll);return function(){window.removeEventListener(\"scroll\",handleScroll);};},[]);useEffect(function(){if(progress===maxProgress){setStickyPosition(\" \");}else{setStickyPosition(\"sticky top\");}},[progress,maxProgress]);var calculateOpacity=function calculateOpacity(index){var windowHeight=window.innerHeight;var linePosition=index*windowHeight;var distanceFromTop=Math.max(progress-linePosition-windowHeight/1.20,0);var nextLinePosition=(index+1)*windowHeight-windowHeight/2;var distanceToNextLine=Math.max(progress-nextLinePosition-windowHeight/1.30,0);var adjustedOpacity=Math.min(distanceToNextLine/(windowHeight/1.50),1);var opacity=Math.max((distanceFromTop-distanceToNextLine)/(windowHeight/2),0);return opacity*(1-adjustedOpacity);};return/*#__PURE__*/_jsxs(_Fragment,{children:[storyIntroLines.map(function(line,index){return/*#__PURE__*/_jsx(\"div\",{ref:LinesRef.current[index],className:\"px-8 h-screen text-center \".concat(stickyPosition,\"-0 flex justify-center items-center\"),children:/*#__PURE__*/_jsx(\"h1\",{style:{opacity:calculateOpacity(index)},className:\"font-bold text-2xl tracking-wide \",children:line.line})},line.id);}),/*#__PURE__*/_jsxs(YearWindowrovider,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col justify-center items-center text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-sm\",children:\"You can switch between years of experience.\"}),/*#__PURE__*/_jsx(Arrow,{})]}),/*#__PURE__*/_jsx(Window,{})]})]});};export default AboutMe;","map":{"version":3,"names":["React","useRef","useState","useEffect","storyIntroLines","YearWindowrovider","Window","Arrow","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AboutMe","_useState","_useState2","_slicedToArray","stickyPosition","setStickyPosition","_useState3","_useState4","progress","setProgress","_useState5","_useState6","maxProgress","setMaxProgress","LinesRef","map","createRef","handleScroll","windowHeight","window","innerHeight","currentPosition","pageYOffset","length","Math","min","addEventListener","removeEventListener","calculateOpacity","index","linePosition","distanceFromTop","max","nextLinePosition","distanceToNextLine","adjustedOpacity","opacity","children","line","ref","current","className","concat","style","id"],"sources":["/Users/mustapha/Desktop/Develop/mustaphachqoubi-website/frontend/src/components/AboutMe.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { storyIntroLines } from \"../assets/storyIntroLines\";\nimport {YearWindowrovider} from './YearWindowProvider.jsx'\nimport { Window } from \"./Window\";\nimport { Arrow } from '../assets/Arrow.jsx'\n\nconst AboutMe = () => {\n  const [stickyPosition, setStickyPosition] = useState(\"sticky top\");\n  const [progress, setProgress] = useState(0);\n  const [maxProgress, setMaxProgress] = useState(0);\n  const LinesRef = useRef(storyIntroLines.map(() => React.createRef()));\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const windowHeight = window.innerHeight;\n      const currentPosition = window.pageYOffset;\n      const maxProgress = windowHeight * storyIntroLines.length;\n      setProgress(Math.min(currentPosition, maxProgress));\n      setMaxProgress(maxProgress);\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (progress === maxProgress) {\n      setStickyPosition(\" \");\n    } else {\n      setStickyPosition(\"sticky top\");\n    }\n  }, [progress, maxProgress]);\n\n  const calculateOpacity = (index) => {\n    const windowHeight = window.innerHeight;\n    const linePosition = index * windowHeight ;\n    const distanceFromTop = Math.max(progress - linePosition - (windowHeight/1.20) , 0);\n    const nextLinePosition = (index + 1) * windowHeight - (windowHeight/2);\n    const distanceToNextLine = Math.max(progress - nextLinePosition - (windowHeight/1.30) , 0);\n    const adjustedOpacity = Math.min(distanceToNextLine / (windowHeight/1.50) , 1);\n    const opacity = Math.max((distanceFromTop - distanceToNextLine) / (windowHeight/2), 0);\n    return opacity * (1 - adjustedOpacity);\n  };\n\n  return (\n    <>\n      {storyIntroLines.map((line, index) => (\n        <div\n          ref={LinesRef.current[index]}\n          key={line.id}\n          className={`px-8 h-screen text-center ${stickyPosition}-0 flex justify-center items-center`}\n        >\n          <h1\n            style={{\n              opacity: calculateOpacity(index),\n            }}\n            className={`font-bold text-2xl tracking-wide `}\n          >\n            {line.line}\n          </h1>\n        </div>\n      ))}\n      <YearWindowrovider>\n      <div className=\"relative flex flex-col justify-center items-center text-center\">\n        <h1 className=\"font-bold text-sm\">You can switch between years of experience.</h1>\n        <Arrow />\n      </div>\n        <Window />\n      </YearWindowrovider>\n    </>\n  );\n};\n\nexport default AboutMe;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}